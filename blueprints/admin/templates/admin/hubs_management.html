{% extends "layout.html" %}

{% block title %} Admin page {% endblock title%}

{% block content %}

    <script>
		$(document).ready(function(){
  		 	$(".active").removeClass("active");
  		 	$("#student").addClass("active");
		});
	</script>

    <style>

        .book-type-card {
            height:140px;
        }

        @media only screen and (max-width: 700px) {

            .book-type-card {
                margin:10px;
                margin-top:-50px;
            }
            .utilities-buttons {
                display:none;
            }

            #live-search-box {
                margin: auto;
                width: 50%;
                padding: 10px;
                margin-top:35px;
            }
        }

    </style>




    <div class="container" style="padding-top:100px;">


        <div class="row">
            <div class="col-md-4">
          <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
            <div class="col p-4 d-flex flex-column position-static text-white rounded bg-dark">

              <h3>Hubs Management</h3>
              <label>Total: {{ hubs | length }}</label>
              <a style="margin-top:10px;" href="#" class="btn btn-info" >New Hub</a>

            </div>


          </div>
        </div>
            <div id="book-list" class="book-list col-md-8 col-lg-8 col-sm-12 col-xs-12">
                <div  id="book-list2" style="margin-bottom:10px;">
                    <input placeholder="Search for order" type="text" class="form-control" style="width:200px;" id="live-search-box">
                </div>

                    <div id="hubs-list">
                    {% for hub in hubs %}
                         <div style="margin-top:10px;" class="card rounded bg-dark">
                              <div class="card-body " style="color:white;">

                                <div class="container ">
                                    <div class="row">
                                        <img class="inline img-grade" height="30" src="{{url_for('static',filename='images/window.png')}}">
                                        <div style="margin-left:10px;" class="col-8">
                                            <h5><a href="#" style="text-decoration:none;color:white;">{{ hub.name }}</a></h5>
                                        </div>

                                        <div style="margin-left:50px;" class="col-8">
                                            <strong>Coordinator:</strong>
                                            <label>{{ hub.coordinator.name }}</label>
                                        </div>
                                        <div class="col-8" style="margin-left:50px;margin-top:-10px;margin-bottom:-5px;">
                                            <strong>IDPs:</strong>
                                            <label>{{ hub.idp }}</label>
                                        </div>
                                    </div>
                                </div>
                              </div>
                            </div>
                    {% endfor %}
                    </div>

            </div>
        </div>
    </div>
    </div>





    <script>


        $(document).ready(function(){
          $("#live-search-box").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#hubs-list div").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
        });

        $(document).ready(function(){
	     $('#add-book').on('click', function () {
	      var text=$('#add-book').text();
	      if(text === "- Pridať študenta"){
	        $(this).html('+ Pridať študenta');
	      } else{
	        $(this).text('- Pridať študenta');
	     }
	    });
	    });

	    // script to check input
	    (function() {
          'use strict';
          window.addEventListener('load', function() {
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();

    </script>

{% endblock content %}