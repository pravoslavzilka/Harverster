{% extends "layout.html" %}

{% block title %} New Order {% endblock title%}

{% block content %}

<style>

Edit in JSFiddle

    Result
    HTML
    CSS
    JavaScript
    Resources

/*
*
* ==========================================
* FOR DEMO PURPOSES
* ==========================================
*
*/

body {
  background: #f5f5f5;
}

.rounded-lg {
  border-radius: 1rem;
}

.nav-pills .nav-link {
  color: #555;
}

.nav-pills .nav-link.active {
  color: #fff;
}


</style>

<div class="container">
      <div class="py-5  text-center">

        <h2>New Order</h2>
      </div>

      <div class="row ">
        <div id="nav-tab-card" class="tab-pane fade show active"  >
        </div>
        <div class="col-md-5 tab-pane fade order-md-2 mb-4" id="nav-tab-bank" >
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Warehouse</span>
            <span class="badge badge-secondary badge-pill">{{ items | length }}</span>
          </h4>
          <ul class=" list-group mb-3">
            {% for item in items %}
              <li class="list-group-item d-flex justify-content-between lh-condensed">
                <div>
                  <h6 class="my-0">{{ item.name }}</h6>

                </div>
                <span class="text-muted"><strong>{{item.quantity}}</strong> {{ item.measurement_unit }}</span>
              </li>
            {% endfor %}

          </ul>


        </div>
        <div class="col-md-7 order-md-1">


              <div class="bg-dark rounded-lg shadow-sm p-5" style="color:white">
                <!-- Credit card form tabs -->
                <ul role="tablist" class="nav bg-dark nav-pills rounded-pill nav-fill mb-3">
                  <li class="nav-item">
                    <a data-toggle="pill" href="#nav-tab-card" class="nav-link active rounded-pill">
                                        <i class="fa fa-credit-card"></i>
                                        DASTOR
                                    </a>
                  </li>

                  <li class="nav-item">
                    <a data-toggle="pill" href="#nav-tab-bank" class="nav-link rounded-pill">
                                        <i class="fa fa-university"></i>
                                         WAREHOUSE
                                     </a>
                  </li>
                </ul>
                <!-- End -->


                <!-- Credit card form content -->
                <div class="tab-content">

                  <!-- credit card info-->
                  <div  class="tab-pane fade show active">
                    <form style="margin-top:60px;" id="form" role="form">
                      <button style="margin-bottom:20px;" class="btn btn-info" id="button" type="button" onlick="duplicate()">Add item</button>
                      <div id="duplicater" class="row">
                        <div class="form-group col-8">
                          <input type="text" placeholder="Item" name="username" required class="form-control">
                        </div>
                        <div class="form-group col-3">
                          <input type="text" placeholder="Max" name="username" required class="form-control">
                        </div>
                        <a onclick="alert('You cannot delete base item')" style="margin-top:5px;text-decoration:none;color:red;" class=" del-button col-1"><strong>&#x2715</strong></a>

                      </div>


                      </div>
                      <button style="margin-top:60px;" type="button" class="subscribe btn btn-info btn-block rounded-pill shadow-sm"> Confirm  </button>
                    </form>
                  </div>
                  <!-- End -->

              </div>
            </div>
          </div>
    </div>

  <script>
    document.getElementById('button').onclick = duplicate;


    var i = 0;
    var original = document.getElementById('duplicater');

    function duplicate() {
        var clone = original.cloneNode(true); // "deep" clone
        var shift = "duplicator" + ++i
        clone.id = shift; // there can only be one element with an ID
        original.parentNode.appendChild(clone);

        console.log(shift);
        var button = document.getElementById(shift).querySelector(".del-button");
        button.onclick = "reply_click(" + shift + ")";
        button.setAttribute("onclick", "reply_click('" + shift + "')");
        console.log("reply_click('" + shift + "')");
        console.log(button);
        console.log(button.onclick);
    }

    function reply_click(clicked_id)
      {
          const element = document.getElementById(clicked_id);
          element.remove();
      }

  </script>

{% endblock content %}
